{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rache\\\\uw-code-boot-camp\\\\homework\\\\homework-19\\\\react-employee-directory\\\\employee-directory\\\\src\\\\components\\\\Results\\\\index.js\";\nimport React from 'react';\nimport API from '../../utils/API';\nimport Employees from '../EmployeeCard';\nimport SearchForm from '../SearchForm';\nimport DOBSearch from '../DOBSearch';\nimport Wrapper from '../Wrapper';\n\nclass Results extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      employees: [],\n      nameFilter: '',\n      dobStartFilter: '',\n      dobEndFilter: '',\n      sortType: '',\n      startDate: '01-01-1930',\n      endDate: '01-01-2002'\n    };\n\n    this.getEmployees = () => {\n      API.getEmployees().then(res => {\n        this.setState({\n          employees: res.data.results\n        });\n        console.log(this.state.employees);\n      }).catch(err => console.log(err));\n    };\n\n    this.sortEmployees = sortFunction => {\n      const sortedEmployees = this.state.employees.sort(sortFunction);\n      this.setState({\n        employees: sortedEmployees\n      });\n    };\n\n    this.employeeFilter = employee => {\n      const {\n        dobStartFilter,\n        dobEndFilter\n      } = this.state;\n\n      if (dobStartFilter == '' || dobEndFilter == '') {\n        return employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter);\n      }\n\n      return (employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter)) && this.state.dobStartFilter <= employee.dob.date && employee.dob.date <= this.state.dobEndFilter;\n    };\n\n    this.handleStartInputUpdate = event => {\n      event.preventDefault();\n      const value = event.target.value;\n      console.log('start' + value);\n      this.setState({\n        dobStartFilter: value\n      });\n    };\n\n    this.handleEndInputUpdate = event => {\n      event.preventDefault();\n      const value = event.target.value;\n      console.log('end' + value);\n      this.setState({\n        dobEndFilter: value\n      });\n    };\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      const value = event.target.value;\n      console.log('input');\n      console.log(value);\n      this.setState({\n        nameFilter: value.toLowerCase()\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getEmployees();\n    console.log(this.state.sortType);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Wrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DOBSearch, {\n      handleStartInputUpdate: this.handleStartInputUpdate,\n      handleEndInputUpdate: this.handleEndInputUpdate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SearchForm, {\n      handleInputChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"datatable mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"table\",\n      className: \"table table-striped table-hover table-condensed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n      onClick: () => this.sortEmployees((a, b) => a.name.first.localeCompare(b.name.first)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      onClick: () => this.sortEmployees((a, b) => a.dob.date.localeCompare(b.dob.date)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }\n    }, \"DOB\"))), /*#__PURE__*/React.createElement(Employees, {\n      sort: this.state.sortType,\n      employees: this.state.employees.filter(this.employeeFilter),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["C:/Users/rache/uw-code-boot-camp/homework/homework-19/react-employee-directory/employee-directory/src/components/Results/index.js"],"names":["React","API","Employees","SearchForm","DOBSearch","Wrapper","Results","Component","state","employees","nameFilter","dobStartFilter","dobEndFilter","sortType","startDate","endDate","getEmployees","then","res","setState","data","results","console","log","catch","err","sortEmployees","sortFunction","sortedEmployees","sort","employeeFilter","employee","name","first","toLowerCase","includes","last","dob","date","handleStartInputUpdate","event","preventDefault","value","target","handleEndInputUpdate","handleInputChange","componentDidMount","render","a","b","localeCompare","filter"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport API from '../../utils/API';\r\nimport Employees from '../EmployeeCard';\r\nimport SearchForm from '../SearchForm';\r\nimport DOBSearch from '../DOBSearch';\r\nimport Wrapper from '../Wrapper';\r\n\r\nclass Results extends React.Component {\r\n  state = {\r\n    employees: [],\r\n    nameFilter: '',\r\n    dobStartFilter: '',\r\n    dobEndFilter: '', \r\n    sortType: '',\r\n    startDate: '01-01-1930',\r\n    endDate: '01-01-2002'\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getEmployees();\r\n    console.log(this.state.sortType);\r\n  }\r\n\r\n  getEmployees = () => {\r\n    API.getEmployees()\r\n      .then((res) => {\r\n        this.setState({\r\n          employees: res.data.results,\r\n        });\r\n        console.log(this.state.employees);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  sortEmployees = (sortFunction) => {\r\n    const sortedEmployees = this.state.employees.sort(sortFunction);\r\n    this.setState({\r\n      employees: sortedEmployees,\r\n    });\r\n  };\r\n\r\n  employeeFilter = (employee) => {\r\n    const { dobStartFilter, dobEndFilter } = this.state;\r\n\r\n    if( dobStartFilter == '' || dobEndFilter == '' ) {\r\n      return (employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter));\r\n    }\r\n\r\n    return (\r\n      (employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter))\r\n      &&\r\n      (this.state.dobStartFilter <= employee.dob.date && employee.dob.date <= this.state.dobEndFilter)\r\n    );\r\n  };\r\n\r\n  handleStartInputUpdate = (event) => {\r\n    event.preventDefault();\r\n    const value = event.target.value;\r\n    console.log('start' + value);\r\n    this.setState({\r\n      dobStartFilter: value\r\n    });\r\n\r\n  };\r\n\r\n  handleEndInputUpdate = (event) => {\r\n    event.preventDefault();\r\n    const value = event.target.value;\r\n    console.log('end' + value);\r\n    this.setState({\r\n      dobEndFilter: value\r\n    });\r\n\r\n  };\r\n\r\n  handleInputChange = (event) => {\r\n    event.preventDefault();\r\n    const value = event.target.value;\r\n    console.log('input');\r\n    console.log(value);\r\n\r\n    this.setState({\r\n      nameFilter: value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"row\">\r\n          <DOBSearch \r\n          handleStartInputUpdate={this.handleStartInputUpdate}\r\n          handleEndInputUpdate={this.handleEndInputUpdate}\r\n          />\r\n          <SearchForm\r\n            handleInputChange={this.handleInputChange}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"datatable mt-5\">\r\n          <table\r\n            id=\"table\"\r\n            className=\"table table-striped table-hover table-condensed\"\r\n          >\r\n            <thead>\r\n              <tr>\r\n                <th>Image</th>\r\n                <th\r\n                  onClick={() =>\r\n                    this.sortEmployees((a, b) =>\r\n                      a.name.first.localeCompare(b.name.first)\r\n                    )\r\n                  }\r\n                >\r\n                  Name\r\n                </th>\r\n                <th>Phone</th>\r\n                <th>Email</th>\r\n                <th\r\n                  onClick={() =>\r\n                    this.sortEmployees((a, b) =>\r\n                      a.dob.date.localeCompare(b.dob.date)\r\n                    )\r\n                  }\r\n                >\r\n                  DOB\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <Employees\r\n              sort={this.state.sortType}\r\n              employees={this.state.employees.filter(this.employeeFilter)}\r\n            />\r\n          </table>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default Results;\r\n"]},"metadata":{},"sourceType":"module"}