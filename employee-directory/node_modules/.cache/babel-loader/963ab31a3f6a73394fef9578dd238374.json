{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rache\\\\uw-code-boot-camp\\\\homework\\\\homework-19\\\\react-employee-directory\\\\employee-directory\\\\src\\\\components\\\\Results\\\\index.js\";\nimport React from 'react';\nimport API from '../../utils/API';\nimport Employees from '../EmployeeCard';\nimport NameSearch from '../NameSearch';\nimport DOBSearch from '../DOBSearch';\nimport Wrapper from '../Wrapper';\n\nclass Results extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      employees: [],\n      nameFilter: '',\n      dobStartFilter: '',\n      dobEndFilter: '',\n      sortType: ''\n    };\n\n    this.getEmployees = () => {\n      API.getEmployees().then(res => {\n        this.setState({\n          employees: res.data.results\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.sortEmployees = sortFunction => {\n      const sortedEmployees = this.state.employees.sort(sortFunction);\n      this.setState({\n        employees: sortedEmployees\n      });\n    };\n\n    this.employeeFilter = employee => {\n      const {\n        dobStartFilter,\n        dobEndFilter\n      } = this.state;\n\n      if (dobStartFilter === '' && dobEndFilter !== '') {\n        return (employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter)) && employee.dob.date <= this.state.dobEndFilter;\n      } else if (dobStartFilter !== '' && dobEndFilter === '') {\n        return (employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter)) && this.state.dobStartFilter <= employee.dob.date;\n      } else if (dobStartFilter === '' && dobEndFilter === '') {\n        return employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter);\n      }\n\n      return (employee.name.first.toLowerCase().includes(this.state.nameFilter) || employee.name.last.toLowerCase().includes(this.state.nameFilter)) && this.state.dobStartFilter <= employee.dob.date && employee.dob.date <= this.state.dobEndFilter;\n    };\n\n    this.handleStartInputChange = event => {\n      event.preventDefault();\n      const value = event.target.value;\n      this.setState({\n        dobStartFilter: value\n      });\n    };\n\n    this.handleEndInputChange = event => {\n      event.preventDefault();\n      const value = event.target.value;\n      this.setState({\n        dobEndFilter: value\n      });\n    };\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      const value = event.target.value;\n      this.setState({\n        nameFilter: value.toLowerCase()\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getEmployees();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Wrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DOBSearch, {\n      handleStartInputChange: this.handleStartInputChange,\n      handleEndInputChange: this.handleEndInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(NameSearch, {\n      handleInputChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"datatable mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"table\",\n      className: \"table table-striped table-hover table-condensed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n      onClick: () => this.sortEmployees((a, b) => a.name.first.localeCompare(b.name.first)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      onClick: () => this.sortEmployees((a, b) => a.dob.date.localeCompare(b.dob.date)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, \"DOB\"))), /*#__PURE__*/React.createElement(Employees, {\n      sort: this.state.sortType,\n      employees: this.state.employees.filter(this.employeeFilter),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["C:/Users/rache/uw-code-boot-camp/homework/homework-19/react-employee-directory/employee-directory/src/components/Results/index.js"],"names":["React","API","Employees","NameSearch","DOBSearch","Wrapper","Results","Component","state","employees","nameFilter","dobStartFilter","dobEndFilter","sortType","getEmployees","then","res","setState","data","results","catch","err","console","log","sortEmployees","sortFunction","sortedEmployees","sort","employeeFilter","employee","name","first","toLowerCase","includes","last","dob","date","handleStartInputChange","event","preventDefault","value","target","handleEndInputChange","handleInputChange","componentDidMount","render","a","b","localeCompare","filter"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport API from '../../utils/API';\r\nimport Employees from '../EmployeeCard';\r\nimport NameSearch from '../NameSearch';\r\nimport DOBSearch from '../DOBSearch';\r\nimport Wrapper from '../Wrapper';\r\n\r\nclass Results extends React.Component {\r\n  state = {\r\n    employees: [],\r\n    nameFilter: '',\r\n    dobStartFilter: '',\r\n    dobEndFilter: '',\r\n    sortType: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getEmployees();\r\n  }\r\n\r\n  getEmployees = () => {\r\n    API.getEmployees()\r\n      .then((res) => {\r\n        this.setState({\r\n          employees: res.data.results,\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  sortEmployees = (sortFunction) => {\r\n    const sortedEmployees = this.state.employees.sort(sortFunction);\r\n    this.setState({\r\n      employees: sortedEmployees,\r\n    });\r\n  };\r\n\r\n  employeeFilter = (employee) => {\r\n    const { dobStartFilter, dobEndFilter } = this.state;\r\n\r\n    if (dobStartFilter === '' && dobEndFilter !== '') {\r\n      return (\r\n        (employee.name.first.toLowerCase().includes(this.state.nameFilter) ||\r\n          employee.name.last.toLowerCase().includes(this.state.nameFilter)) &&\r\n        employee.dob.date <= this.state.dobEndFilter\r\n      );\r\n    } else if (dobStartFilter !== '' && dobEndFilter === '') {\r\n      return (\r\n        (employee.name.first.toLowerCase().includes(this.state.nameFilter) ||\r\n          employee.name.last.toLowerCase().includes(this.state.nameFilter)) &&\r\n        this.state.dobStartFilter <= employee.dob.date\r\n      );\r\n    } else if (dobStartFilter === '' && dobEndFilter === '') {\r\n      return (\r\n        employee.name.first.toLowerCase().includes(this.state.nameFilter) ||\r\n        employee.name.last.toLowerCase().includes(this.state.nameFilter)\r\n      );\r\n    }\r\n\r\n    return (\r\n      (employee.name.first.toLowerCase().includes(this.state.nameFilter) ||\r\n        employee.name.last.toLowerCase().includes(this.state.nameFilter)) &&\r\n      this.state.dobStartFilter <= employee.dob.date &&\r\n      employee.dob.date <= this.state.dobEndFilter\r\n    );\r\n  };\r\n\r\n  handleStartInputChange = (event) => {\r\n    event.preventDefault();\r\n    const value = event.target.value;\r\n    this.setState({\r\n      dobStartFilter: value,\r\n    });\r\n  };\r\n\r\n  handleEndInputChange = (event) => {\r\n    event.preventDefault();\r\n    const value = event.target.value;\r\n    this.setState({\r\n      dobEndFilter: value,\r\n    });\r\n  };\r\n\r\n  handleInputChange = (event) => {\r\n    event.preventDefault();\r\n    const value = event.target.value;\r\n    this.setState({\r\n      nameFilter: value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"row\">\r\n          <DOBSearch\r\n            handleStartInputChange={this.handleStartInputChange}\r\n            handleEndInputChange={this.handleEndInputChange}\r\n          />\r\n          <NameSearch handleInputChange={this.handleInputChange} />\r\n        </div>\r\n\r\n        <div className=\"datatable mt-5\">\r\n          <table\r\n            id=\"table\"\r\n            className=\"table table-striped table-hover table-condensed\"\r\n          >\r\n            <thead>\r\n              <tr>\r\n                <th>Image</th>\r\n                <th\r\n                  onClick={() =>\r\n                    this.sortEmployees((a, b) =>\r\n                      a.name.first.localeCompare(b.name.first)\r\n                    )\r\n                  }\r\n                >\r\n                  Name\r\n                </th>\r\n                <th>Phone</th>\r\n                <th>Email</th>\r\n                <th\r\n                  onClick={() =>\r\n                    this.sortEmployees((a, b) =>\r\n                      a.dob.date.localeCompare(b.dob.date)\r\n                    )\r\n                  }\r\n                >\r\n                  DOB\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <Employees\r\n              sort={this.state.sortType}\r\n              employees={this.state.employees.filter(this.employeeFilter)}\r\n            />\r\n          </table>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nexport default Results;\r\n"]},"metadata":{},"sourceType":"module"}